<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Crear Receta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding fondo-receta">
  <div class="formulario-receta">

    <h2 class="titulo-receta">Nueva Receta</h2>
    <p class="descripcion-receta">Completa los datos para añadir tu receta al sistema</p>

    <ion-card class="card-receta">
      <ion-card-content>
        <ion-list lines="inset">

          <!-- Título -->
          <ion-item>
            <ion-icon slot="start" name="document-text-outline"></ion-icon>
            <ion-label position="floating">Título</ion-label>
            <ion-input [(ngModel)]="titulo"></ion-input>
          </ion-item>

          <!-- Ingredientes -->
          <ion-item>
            <ion-icon slot="start" name="nutrition-outline"></ion-icon>
            <ion-label position="floating">Ingredientes</ion-label>
            <ion-textarea autoGrow="true" [(ngModel)]="ingredientes"></ion-textarea>
          </ion-item>

          <!-- Preparación -->
          <ion-item>
            <ion-icon slot="start" name="create-outline"></ion-icon>
            <ion-label position="floating">Preparación</ion-label>
            <ion-textarea autoGrow="true" [(ngModel)]="preparacion"></ion-textarea>
          </ion-item>

          <!-- Imagen -->
          <ion-item>
            <ion-icon slot="start" name="image-outline"></ion-icon>
            <ion-label position="floating">Imagen (URL)</ion-label>
            <ion-input [(ngModel)]="imagen" type="url" (ionChange)="mostrarImagen()"></ion-input>
          </ion-item>

          <!-- Fecha -->
          <ion-item>
            <ion-icon slot="start" name="calendar-outline"></ion-icon>
            <ion-label>Fecha de publicación</ion-label>
            <ion-datetime [(ngModel)]="fecha_publicacion" presentation="date"></ion-datetime>
          </ion-item>

          <!-- Categoría -->
          <ion-item>
            <ion-icon slot="start" name="list-outline"></ion-icon>
            <ion-label>Categoría</ion-label>
            <ion-select [(ngModel)]="categoria" placeholder="Selecciona una categoría">
              <ion-select-option value="desayuno">Desayuno</ion-select-option>
              <ion-select-option value="almuerzo">Almuerzo</ion-select-option>
              <ion-select-option value="cena">Cena</ion-select-option>
              <ion-select-option value="postre">Postre</ion-select-option>
              <ion-select-option value="vegetariano">Vegetariano</ion-select-option>
              <ion-select-option value="rápida">Receta rápida</ion-select-option>
            </ion-select>
          </ion-item>

        </ion-list>

        <!-- Vista previa -->
        <div *ngIf="imagen" class="preview-imagen">
          <img [src]="imagen" alt="Vista previa" />
        </div>

        <!-- Botón -->
        <ion-button expand="block" color="success" shape="round" size="large" (click)="crearReceta()">
          <ion-icon slot="start" name="save-outline"></ion-icon>
          Guardar Receta
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
